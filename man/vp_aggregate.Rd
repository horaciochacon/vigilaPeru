% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aggregate.R
\name{vp_aggregate}
\alias{vp_aggregate}
\title{Agregación rápida de datos epidemiológicos / Fast aggregation of epidemiological data}
\usage{
vp_aggregate(
  data,
  by,
  summarize = NULL,
  cases_col = NULL,
  as_tibble = TRUE,
  na.rm = TRUE
)
}
\arguments{
\item{data}{data.table o data.frame con datos epidemiológicos.
/ data.table or data.frame with epidemiological data.}

\item{by}{Vector de caracteres o lista con variables de agrupación.
/ Character vector or list with grouping variables.}

\item{summarize}{Lista con funciones de resumen a aplicar.
/ List with summary functions to apply.}

\item{cases_col}{Nombre de la columna de casos (por defecto busca automáticamente).
/ Name of cases column (default searches automatically).}

\item{as_tibble}{Lógico. Si TRUE (predeterminado), devuelve un tibble.
/ Logical. If TRUE (default), returns a tibble.}

\item{na.rm}{Lógico. Si TRUE, elimina valores NA en cálculos.
/ Logical. If TRUE, removes NA values in calculations.}
}
\value{
data.table o tibble con datos agregados / data.table or tibble with aggregated data
}
\description{
Realiza agregaciones rápidas de datos epidemiológicos usando data.table.
Soporta agrupación flexible por múltiples variables y cálculo de estadísticas.

Performs fast aggregations of epidemiological data using data.table.
Supports flexible grouping by multiple variables and statistics calculation.
}
\examples{
# Cargar datos de malaria / Load malaria data
mal <- vp_download("malaria")

# Agregar por año y departamento / Aggregate by year and department
agg1 <- vp_aggregate(mal, by = c("ano", "departamento"))

# Agregar por semana epidemiológica / Aggregate by epidemiological week
agg2 <- vp_aggregate(mal, by = list(year = ano, week = semana))

# Agregar con múltiples estadísticas / Aggregate with multiple statistics
agg3 <- vp_aggregate(mal, 
  by = c("ano", "sexo"),
  summarize = list(
    casos_total = sum,
    casos_promedio = mean,
    casos_max = max
  )
)
}
